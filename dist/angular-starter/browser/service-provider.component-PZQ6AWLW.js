import{b as se,c as pe,d as me}from"./chunk-YVVDMIVI.js";import{h as he}from"./chunk-TUNMWEV2.js";import{a as de}from"./chunk-V3YCIJYQ.js";import{a as fe,b as ge}from"./chunk-LAF373ZA.js";import"./chunk-JURKDGMK.js";import{B as W,D as f,G as X,H as Y,M as ee,O as te,P as ie,Q as re,R as ne,S as ae,V as le,X as oe,ha as ue,ja as ce,sa as ve}from"./chunk-7M6NR5Y6.js";import{a as G,b as J,c as U,d as $,f as z,h as H}from"./chunk-277XKCPD.js";import{g as R,h as O,i as j,n as V,pa as K,qa as Z,ra as Q}from"./chunk-JMDSQALO.js";import{Bc as i,Cc as r,Fb as T,Lb as s,Mb as a,Nb as n,Ob as c,Xb as _,_a as t,d as D,eb as y,lb as A,lc as o,mc as u,nc as v,rb as h,xc as b}from"./chunk-ZH2ICRTR.js";var C=l=>({"border-[#D7373C]":l});function xe(l,x){if(l&1&&(a(0,"option",35),o(1),n()),l&2){let d=x.$implicit;s("value",d),t(),v(" ",d," ")}}function ye(l,x){l&1&&(a(0,"small",36),o(1),i(2,"translate"),n()),l&2&&(t(),v(" ",r(2,1,"countryRequired")," "))}function be(l,x){l&1&&(a(0,"small",36),o(1),i(2,"translate"),n()),l&2&&(t(),v(" ",r(2,1,"addressLine1Required")," "))}function Se(l,x){l&1&&(a(0,"small",36),o(1),i(2,"translate"),n()),l&2&&(t(),v(" ",r(2,1,"stateInvalid")," "))}function Ce(l,x){l&1&&(a(0,"small",36),o(1),i(2,"translate"),n()),l&2&&(t(),v(" ",r(2,1,"serviceProviderNameInvalid")," "))}function _e(l,x){l&1&&(a(0,"small",36),o(1),i(2,"translate"),n()),l&2&&(t(),v(" ",r(2,1,"cityRequired")," "))}function Fe(l,x){l&1&&(a(0,"small",36),o(1),i(2,"translate"),n()),l&2&&(t(),v(" ",r(2,1,"postalCodeInvalid")," "))}var Ue=(()=>{class l{fb;toastr;responsiveService;data;dialogRef;translateService;providerForm;countries=["USA","Canada","UK","Australia","India"];isPopup=!1;providerId;responsiveClass="md:flex-row";isSubmitting=!1;constructor(d,m,e,p,g,S){this.fb=d,this.toastr=m,this.responsiveService=e,this.data=p,this.dialogRef=g,this.translateService=S,this.isPopup=p?.isPopup||!1,this.providerId=p?.provider?.id,this.providerForm=this.fb.group({id:[this.providerId||""],country:["",f.required],spName:["",[f.required,f.minLength(3)]],addressLine1:["",f.required],addressLine2:[""],addressLine3:[""],city:["",f.required],state:["",f.pattern("^[A-Za-z0-9]{1,10}$")],postalCode:["",[f.required,f.minLength(3)]],businessName:[""]}),p?.provider&&this.providerForm.patchValue(p.provider)}ngOnInit(){let d=localStorage.getItem("lang")||"en";this.translateService.use(d),this.responsiveService.currentBreakpoint().subscribe(m=>{this.responsiveClass=m==="xsmall"||m==="small"?"flex-col":"md:flex-row"})}saveProvider(){return D(this,null,function*(){if(this.providerForm.valid){this.isSubmitting=!0;try{let d=this.providerForm.value,m={id:this.providerId||Date.now().toString(),country:d.country,spName:d.spName,addressLine1:d.addressLine1,addressLine2:d.addressLine2,addressLine3:d.addressLine3,city:d.city,state:d.state,postalCode:d.postalCode,businessName:d.businessName},e=JSON.parse(localStorage.getItem("serviceProviders")||"[]");if(this.providerId){let p=e.findIndex(g=>g.id===this.providerId);if(p!==-1)e[p]=m,localStorage.setItem("serviceProviders",JSON.stringify(e));else{this.toastr.error(this.translateService.instant("providerNotFound")),this.isSubmitting=!1;return}}else e.push(m),localStorage.setItem("serviceProviders",JSON.stringify(e));this.dialogRef.close(m),this.toastr.success(this.translateService.instant("serviceProviderSaved"))}catch{this.toastr.error(this.translateService.instant("errorSavingProvider"))}finally{this.isSubmitting=!1}}else this.toastr.error(this.translateService.instant("fillRequiredFields")),this.providerForm.markAllAsTouched(),this.isSubmitting=!1})}closePopup(){this.dialogRef.close()}onCancel(){this.providerForm.reset(),this.providerForm.patchValue({country:this.countries[0]}),this.isPopup&&this.closePopup()}static \u0275fac=function(m){return new(m||l)(y(le),y(he),y(de),y(ge),y(fe),y(se))};static \u0275cmp=A({type:l,selectors:[["app-service-provider"]],decls:96,vars:99,consts:[[1,"container","mx-auto","bg-white","transition-colors","duration-300","font-sans"],[1,"bg-white","font-sans","border-0","shadow-none","p-4"],[1,"p-4"],[1,"absolute","top-0","right-0","flex","justify-center","items-center","p-2","rounded-full","hover:bg-gray-100",3,"click"],[1,"flex","justify-between","items-center","relative"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-900","mt-1","mb-4","text-sm"],[1,"p-4","pt-0"],[1,"font-sans",3,"ngSubmit","formGroup"],[1,"flex","flex-col","md:flex-row","gap-4"],[1,"flex-1","flex","flex-col","gap-4"],[1,"flex","flex-col"],["for","country",1,"text-sm","font-bold","text-gray-900"],["id","country","formControlName","country","aria-required","true",1,"p-2","border","rounded","text-sm","w-full","focus:outline-none","focus:ring-2","focus:ring-blue-500","bg-white","dark:bg-gray-800","dark:border-gray-600","dark:text-gray-100","h-10",3,"ngClass"],["value","","disabled",""],["class","font-sans",3,"value",4,"ngFor","ngForOf"],[1,"min-h-6","mt-1"],["class","text-xs text-[#D7373C] font-sans",4,"ngIf"],["for","addressLine1",1,"text-sm","font-bold","text-gray-900","font-sans"],["id","addressLine1","type","text","formControlName","addressLine1","aria-required","true",1,"p-2","border","border-gray-300","rounded","text-sm","w-full","bg-white","text-gray-900","h-10","font-sans",3,"placeholder","ngClass"],["for","addressLine3",1,"text-sm","font-bold","text-gray-900","font-sans"],["id","addressLine3","type","text","formControlName","addressLine3",1,"p-2","border","border-gray-300","rounded","text-sm","w-full","bg-white","text-gray-900","h-10","font-sans",3,"placeholder"],["for","state",1,"text-sm","font-bold","text-gray-900","font-sans"],["id","state","type","text","formControlName","state",1,"p-2","border","border-gray-300","rounded","text-sm","w-full","bg-white","text-gray-900","h-10","font-sans",3,"placeholder","ngClass"],["for","spName",1,"text-sm","font-bold","text-gray-900","font-sans"],["id","spName","type","text","formControlName","spName","aria-required","true",1,"p-2","border","border-gray-300","rounded","text-sm","w-full","bg-white","text-gray-900","h-10","font-sans",3,"placeholder","ngClass"],["for","addressLine2",1,"text-sm","font-bold","text-gray-900","font-sans"],["id","addressLine2","type","text","formControlName","addressLine2",1,"p-2","border","border-gray-300","rounded","text-sm","w-full","bg-white","text-gray-900","h-10","font-sans",3,"placeholder"],["for","city",1,"text-sm","font-bold","text-gray-900","font-sans"],["id","city","type","text","formControlName","city","aria-required","true",1,"p-2","border","border-gray-300","rounded","text-sm","w-full","bg-white","text-gray-900","h-10","font-sans",3,"placeholder","ngClass"],["for","postalCode",1,"text-sm","font-bold","text-gray-900","font-sans"],["id","postalCode","type","text","formControlName","postalCode","aria-required","true",1,"p-2","border","border-gray-300","rounded","text-sm","w-full","bg-white","text-gray-900","h-10","font-sans",3,"placeholder","ngClass"],[1,"flex","flex-col","sm:flex-row","gap-3","p-4"],["type","submit",1,"bg-[#CF4500]","text-white","px-4","py-2","rounded-full","text-sm","font-medium","hover:bg-[#B53C00]","focus:ring-2","focus:ring-[#CF4500]","w-full","sm:w-auto","font-sans","uppercase",3,"click"],["type","button",1,"bg-[#CF4500]","text-white","px-4","py-2","rounded-full","text-sm","font-medium","hover:bg-[#B53C00]","focus:ring-2","focus:ring-[#CF4500]","w-full","sm:w-auto","font-sans","uppercase",3,"click"],[1,"font-sans",3,"value"],[1,"text-xs","text-[#D7373C]","font-sans"]],template:function(m,e){if(m&1&&(a(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"button",3),i(4,"translate"),_("click",function(){return e.onCancel()}),a(5,"mat-icon"),o(6,"close"),n()(),a(7,"mat-card-title",4)(8,"h2",5),o(9),i(10,"translate"),n()(),a(11,"mat-card-subtitle",6)(12,"p"),o(13),i(14,"translate"),n()()(),a(15,"mat-card-content",7)(16,"form",8),_("ngSubmit",function(){return e.saveProvider()}),a(17,"div",9)(18,"div",10)(19,"div",11)(20,"label",12),o(21),i(22,"translate"),n(),a(23,"select",13)(24,"option",14),o(25),i(26,"translate"),n(),h(27,xe,2,2,"option",15),n(),a(28,"div",16),h(29,ye,3,3,"small",17),n()(),a(30,"div",11)(31,"label",18),o(32),i(33,"translate"),n(),c(34,"input",19),i(35,"translate"),a(36,"div",16),h(37,be,3,3,"small",17),n()(),a(38,"div",11)(39,"label",20),o(40),i(41,"translate"),n(),c(42,"input",21),i(43,"translate"),c(44,"div",16),n(),a(45,"div",11)(46,"label",22),o(47),i(48,"translate"),n(),c(49,"input",23),i(50,"translate"),a(51,"div",16),h(52,Se,3,3,"small",17),n()()(),a(53,"div",10)(54,"div",11)(55,"label",24),o(56),i(57,"translate"),n(),c(58,"input",25),i(59,"translate"),a(60,"div",16),h(61,Ce,3,3,"small",17),n()(),a(62,"div",11)(63,"label",26),o(64),i(65,"translate"),n(),c(66,"input",27),i(67,"translate"),c(68,"div",16),n(),a(69,"div",11)(70,"label",28),o(71),i(72,"translate"),n(),c(73,"input",29),i(74,"translate"),a(75,"div",16),h(76,_e,3,3,"small",17),n()(),a(77,"div",11)(78,"label",30),o(79),i(80,"translate"),n(),c(81,"input",31),i(82,"translate"),a(83,"div",16),h(84,Fe,3,3,"small",17),n()()()()()(),a(85,"div",32)(86,"button",33),i(87,"translate"),i(88,"translate"),_("click",function(){return e.saveProvider()}),o(89),i(90,"translate"),i(91,"translate"),n(),a(92,"button",34),i(93,"translate"),_("click",function(){return e.onCancel()}),o(94),i(95,"translate"),n()()()()),m&2){let p,g,S,F,I,P,N,B,w,L,E,M,q,k;t(3),T("aria-label",r(4,37,"close")),t(6),u(r(10,39,"addServiceProviderForm")),t(4),u(r(14,41,"fillServiceProviderFields")),t(3),s("formGroup",e.providerForm),t(5),u(r(22,43,"country")),t(2),s("ngClass",b(87,C,((p=e.providerForm.get("country"))==null?null:p.invalid)&&((p=e.providerForm.get("country"))==null?null:p.touched))),t(2),u(r(26,45,"selectCountry")),t(2),s("ngForOf",e.countries),t(2),s("ngIf",((g=e.providerForm.get("country"))==null?null:g.invalid)&&((g=e.providerForm.get("country"))==null?null:g.touched)),t(3),u(r(33,47,"addressLine1")),t(2),s("placeholder",r(35,49,"addressLine1Placeholder"))("ngClass",b(89,C,((S=e.providerForm.get("addressLine1"))==null?null:S.invalid)&&((S=e.providerForm.get("addressLine1"))==null?null:S.touched))),t(3),s("ngIf",((F=e.providerForm.get("addressLine1"))==null?null:F.invalid)&&((F=e.providerForm.get("addressLine1"))==null?null:F.touched)),t(3),u(r(41,51,"addressLine3")),t(2),s("placeholder",r(43,53,"addressLine3Placeholder")),t(5),u(r(48,55,"stateProvince")),t(2),s("placeholder",r(50,57,"statePlaceholder"))("ngClass",b(91,C,((I=e.providerForm.get("state"))==null?null:I.invalid)&&((I=e.providerForm.get("state"))==null?null:I.touched))),t(3),s("ngIf",((P=e.providerForm.get("state"))==null?null:P.invalid)&&((P=e.providerForm.get("state"))==null?null:P.touched)),t(4),u(r(57,59,"serviceProviderName")),t(2),s("placeholder",r(59,61,"serviceProviderNamePlaceholder"))("ngClass",b(93,C,((N=e.providerForm.get("spName"))==null?null:N.invalid)&&((N=e.providerForm.get("spName"))==null?null:N.touched))),t(3),s("ngIf",((B=e.providerForm.get("spName"))==null?null:B.invalid)&&((B=e.providerForm.get("spName"))==null?null:B.touched)),t(3),u(r(65,63,"addressLine2")),t(2),s("placeholder",r(67,65,"addressLine2Placeholder")),t(5),u(r(72,67,"cityTown")),t(2),s("placeholder",r(74,69,"cityPlaceholder"))("ngClass",b(95,C,((w=e.providerForm.get("city"))==null?null:w.invalid)&&((w=e.providerForm.get("city"))==null?null:w.touched))),t(3),s("ngIf",((L=e.providerForm.get("city"))==null?null:L.invalid)&&((L=e.providerForm.get("city"))==null?null:L.touched)),t(3),u(r(80,71,"postalCode")),t(2),s("placeholder",r(82,73,"postalCodePlaceholder"))("ngClass",b(97,C,((E=e.providerForm.get("postalCode"))==null?null:E.invalid)&&((E=e.providerForm.get("postalCode"))==null?null:E.touched))),t(3),s("ngIf",((M=e.providerForm.get("postalCode"))==null?null:M.invalid)&&((M=e.providerForm.get("postalCode"))==null?null:M.touched)),t(2),T("aria-label",(q=e.providerForm.get("id"))!=null&&q.value?r(87,75,"updateServiceProvider"):r(88,77,"addServiceProvider")),t(3),v(" ",(k=e.providerForm.get("id"))!=null&&k.value?r(90,79,"updateServiceProvider"):r(91,81,"addServiceProvider")," "),t(3),T("aria-label",r(93,83,"cancel")),t(2),v(" ",r(95,85,"cancel")," ")}},dependencies:[oe,ee,ne,ae,W,re,X,Y,te,ie,V,R,O,j,H,G,U,z,$,J,ue,ce,K,ve,Q,Z,me,pe],encapsulation:2})}return l})();export{Ue as ServiceProviderComponent};
//# sourceMappingURL=service-provider.component-PZQ6AWLW.js.map
