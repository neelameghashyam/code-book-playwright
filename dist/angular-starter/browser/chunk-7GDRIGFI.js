import{Jc as p,Kc as h,a as e,b as u,ba as S,ga as j,sa as w,va as b,wa as v}from"./chunk-ZH2ICRTR.js";function I(n){let t=p(()=>n());return T(t)?new Proxy(n,{get(o,r){return r in t?(b(o[r])||Object.defineProperty(o,r,{value:h(()=>o()[r]),configurable:!0}),I(o[r])):o[r]}}):n}var x=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function T(n){if(n===null||typeof n!="object"||E(n))return!1;let t=Object.getPrototypeOf(n);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(x.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function E(n){return typeof n?.[Symbol.iterator]=="function"}var W=new WeakMap,i=Symbol("STATE_SOURCE");function V(n,...t){n[i].update(o=>t.reduce((r,s)=>e(e({},r),typeof s=="function"?s(r):s),o)),O(n)}function C(n){return n[i]()}function K(n){return W.get(n[i])||[]}function O(n){let t=K(n);for(let o of t){let r=p(()=>C(n));o(r)}}function _(...n){let t=[...n],o=typeof t[0]=="function"?{}:t.shift(),r=t;return(()=>{class c{constructor(){let f=r.reduce((d,R)=>R(d),P()),{stateSignals:l,props:M,methods:D,hooks:k}=f,g=e(e(e({},l),M),D);this[i]=f[i];for(let d of Reflect.ownKeys(g))this[d]=g[d];let{onInit:y,onDestroy:m}=k;y&&y(),m&&j(w).onDestroy(m)}static \u0275fac=function(l){return new(l||c)};static \u0275prov=S({token:c,factory:c.\u0275fac,providedIn:o.providedIn||null})}return c})()}function P(){return{[i]:v({}),stateSignals:{},props:{},methods:{},hooks:{}}}function A(n){return t=>{let o=n(e(e(e({[i]:t[i]},t.stateSignals),t.props),t.methods));return Reflect.ownKeys(o),u(e({},t),{props:e(e({},t.props),o)})}}function G(n){return A(n)}function J(n){return t=>{let o=e(e(e({[i]:t[i]},t.stateSignals),t.props),t.methods),r=typeof n=="function"?n(o):n,s=c=>{let a=r[c],f=t.hooks[c];return a?()=>{f&&f(),a(o)}:f};return u(e({},t),{hooks:{onInit:s("onInit"),onDestroy:s("onDestroy")}})}}function L(n){return t=>{let o=n(e(e(e({[i]:t[i]},t.stateSignals),t.props),t.methods));return Reflect.ownKeys(o),u(e({},t),{methods:e(e({},t.methods),o)})}}function N(n){return t=>{let o=typeof n=="function"?n():n,r=Reflect.ownKeys(o);t[i].update(c=>e(e({},c),o));let s=r.reduce((c,a)=>{let f=h(()=>t[i]()[a]);return u(e({},c),{[a]:I(f)})},{});return u(e({},t),{stateSignals:e(e({},t.stateSignals),s)})}}export{V as a,_ as b,G as c,J as d,L as e,N as f};
//# sourceMappingURL=chunk-7GDRIGFI.js.map
